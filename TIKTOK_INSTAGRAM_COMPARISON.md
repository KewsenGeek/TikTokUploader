# üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º–æ–¥—É–ª–µ–π TikTok –∏ Instagram

## üéØ –¶–µ–ª—å
–ü—Ä–∏–≤–µ—Å—Ç–∏ –º–æ–¥—É–ª—å TikTok –∫ —Ç–∞–∫–æ–º—É –∂–µ –ø–æ–≤–µ–¥–µ–Ω–∏—é –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∫–∞–∫ –º–æ–¥—É–ª—å Instagram (–∫—Ä–æ–º–µ —Å–∞–º–æ–≥–æ –±–æ—Ç–∞).

---

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ TikTok (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Instagram)

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | Instagram | TikTok | –°—Ç–∞—Ç—É—Å |
|------------|-----------|--------|--------|
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏** | ‚úÖ | ‚úÖ | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏** | ‚úÖ | ‚úÖ | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ |
| **Bulk Upload** | ‚úÖ | ‚úÖ | ‚ö†Ô∏è –ï—Å—Ç—å —Ä–∞–∑–ª–∏—á–∏—è |
| **Warmup** | ‚úÖ | ‚úÖ | ‚ö†Ô∏è –ï—Å—Ç—å —Ä–∞–∑–ª–∏—á–∏—è |
| **Follow/Unfollow** | ‚úÖ | ‚úÖ | ‚ö†Ô∏è –ï—Å—Ç—å —Ä–∞–∑–ª–∏—á–∏—è |
| **Cookie Robot** | ‚úÖ | ‚úÖ | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ |
| **Dolphin Integration** | ‚úÖ | ‚úÖ | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ |
| **Dashboard** | ‚úÖ | ‚úÖ | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ |

### ‚ùå –ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ TikTok

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | Instagram | TikTok | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------------|-----------|--------|-----------|
| **Bulk Login** | ‚úÖ | ‚ùå | üî¥ –í—ã—Å–æ–∫–∏–π |
| **Avatar Change** | ‚úÖ | ‚ùå | üü° –°—Ä–µ–¥–Ω–∏–π |
| **Bio Link Change** | ‚úÖ | ‚ùå | üü° –°—Ä–µ–¥–Ω–∏–π |
| **Photo Upload** | ‚úÖ | ‚ùå | üü¢ –ù–∏–∑–∫–∏–π |
| **Hashtag Analytics** | ‚úÖ | ‚ùå | üü¢ –ù–∏–∑–∫–∏–π |
| **Account Analytics** | ‚úÖ | ‚ùå | üü¢ –ù–∏–∑–∫–∏–π |

---

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### 1. –ú–æ–¥–µ–ª–∏ –ø—Ä–æ–∫—Å–∏ ‚úÖ

**Instagram: `Proxy`**
```python
- host, port, username, password
- proxy_type, status
- is_active, last_used, last_verified
- country, city
- ip_change_url, external_ip
- assigned_account (ForeignKey)
```

**TikTok: `TikTokProxy`**
```python
- host, port, username, password
- proxy_type, status
- is_active, last_used, last_verified
- country, city
- ip_change_url, external_ip
- created_at, updated_at ‚ú® (–Ω–æ–≤–æ–µ)
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ (TikTok –¥–∞–∂–µ –ª—É—á—à–µ —Å timestamps)

---

### 2. –ú–æ–¥–µ–ª–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ ‚ö†Ô∏è

**Instagram: `InstagramAccount`**
```python
- username, password
- email_username, email_password
- tfa_secret
- phone_number
- proxy, current_proxy
- dolphin_profile_id
- status, last_used, last_warmed
- created_at, updated_at
- notes, locale, client
```

**TikTok: `TikTokAccount`**
```python
- username, password
- email, email_password  ‚ö†Ô∏è (email –≤–º–µ—Å—Ç–æ email_username)
- phone_number
- proxy, current_proxy
- dolphin_profile_id
- status, last_used, last_warmed
- created_at, updated_at
- notes, locale, client
```

**–û—Ç–ª–∏—á–∏—è:**
- ‚ùå TikTok: –Ω–µ—Ç `tfa_secret` (2FA)
- ‚ö†Ô∏è TikTok: `email` –≤–º–µ—Å—Ç–æ `email_username`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ TikTokAccount:
tfa_secret = models.CharField(max_length=100, null=True, blank=True)

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å:
email_username = models.CharField(...)  # –≤–º–µ—Å—Ç–æ email
```

---

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ Instagram

#### 3.1 `InstagramDevice` ‚ùå
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è API instagrapi

```python
class InstagramDevice(models.Model):
    account = models.OneToOneField(InstagramAccount)
    device_settings = models.JSONField()
    user_agent = models.CharField()
    session_settings = models.JSONField()
    session_file = models.CharField()
    last_login_at = models.DateTimeField()
    last_avatar_change_at = models.DateTimeField()
```

**–î–ª—è TikTok:** –ù–ï –ù–£–ñ–ù–û (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è instagrapi API)

---

#### 3.2 `InstagramCookies` ‚ùå
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ cookies –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞

```python
class InstagramCookies(models.Model):
    account = models.OneToOneField(InstagramAccount)
    cookies_data = models.JSONField()
    last_updated = models.DateTimeField()
    is_valid = models.BooleanField()
```

**–î–ª—è TikTok:** üü° –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
- –í TikTok cookies —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `CookieRobotTaskAccount.cookies_json`
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

---

### 4. Task Account –º–æ–¥–µ–ª–∏ - –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –†–ê–ó–ù–ò–¶–ê! ‚ö†Ô∏è

#### Instagram: –í—Å–µ task accounts –∏–º–µ—é—Ç –ø–æ–ª–µ `proxy`

**`BulkUploadAccount`:**
```python
proxy = models.ForeignKey(Proxy, on_delete=models.SET_NULL, null=True, blank=True)
```

**`WarmupTaskAccount`:**
```python
proxy = models.ForeignKey(Proxy, on_delete=models.SET_NULL, null=True, blank=True)
```

**`FollowTaskAccount`:**
```python
proxy = models.ForeignKey(Proxy, on_delete=models.SET_NULL, null=True, blank=True)
```

#### TikTok: Task accounts –ù–ï –ò–ú–ï–Æ–¢ –ø–æ–ª—è `proxy`! ‚ùå

**`BulkUploadAccount`:**
```python
# –ù–ï–¢ –ü–û–õ–Ø proxy!
```

**`WarmupTaskAccount`:**
```python
# –ù–ï–¢ –ü–û–õ–Ø proxy!
```

**`FollowTaskAccount`:**
```python
# –ù–ï–¢ –ü–û–õ–Ø proxy!
```

**`CookieRobotTaskAccount`:**
```python
# –ù–ï–¢ –ü–û–õ–Ø proxy!
```

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:
–ë–µ–∑ –ø–æ–ª—è `proxy` –≤ task accounts –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–∞–∫–æ–π –ø—Ä–æ–∫—Å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–µ.

### ‚úÖ –†–ï–®–ï–ù–ò–ï:
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `proxy` –≤–æ –≤—Å–µ TikTok task account –º–æ–¥–µ–ª–∏!

---

## üî® –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ)

#### 1.1 –î–æ–±–∞–≤–∏—Ç—å `proxy` –≤ task accounts

```python
# tiktok_uploader/models.py

class BulkUploadAccount(models.Model):
    bulk_task = models.ForeignKey(BulkUploadTask, ...)
    account = models.ForeignKey(TikTokAccount, ...)
    proxy = models.ForeignKey(  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
        TikTokProxy,
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        related_name='bulk_used_in'
    )
    status = models.CharField(...)
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

class WarmupTaskAccount(models.Model):
    task = models.ForeignKey(WarmupTask, ...)
    account = models.ForeignKey(TikTokAccount, ...)
    proxy = models.ForeignKey(  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
        TikTokProxy,
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        related_name='warmup_used_in'
    )
    status = models.CharField(...)
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

class FollowTaskAccount(models.Model):
    task = models.ForeignKey(FollowTask, ...)
    account = models.ForeignKey(TikTokAccount, ...)
    proxy = models.ForeignKey(  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
        TikTokProxy,
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        related_name='follow_used_in'
    )
    status = models.CharField(...)
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

class CookieRobotTaskAccount(models.Model):
    task = models.ForeignKey(CookieRobotTask, ...)
    account = models.ForeignKey(TikTokAccount, ...)
    proxy = models.ForeignKey(  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
        TikTokProxy,
        on_delete=models.SET_NULL,
        null=True,
        blank=True,
        related_name='cookie_used_in'
    )
    status = models.CharField(...)
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
```

#### 1.2 –î–æ–±–∞–≤–∏—Ç—å `tfa_secret` –≤ `TikTokAccount`

```python
class TikTokAccount(models.Model):
    username = models.CharField(max_length=100, unique=True)
    password = models.CharField(max_length=100)
    email = models.CharField(max_length=100, null=True, blank=True)
    email_password = models.CharField(max_length=100, null=True, blank=True)
    tfa_secret = models.CharField(  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
        max_length=100, 
        null=True, 
        blank=True,
        help_text="2FA secret key for TOTP"
    )
    phone_number = models.CharField(max_length=32, null=True, blank=True)
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
```

#### 1.3 –£–ª—É—á—à–∏—Ç—å `FollowTarget` (–∫–∞–∫ –≤ Instagram)

```python
class FollowTarget(models.Model):
    category = models.ForeignKey(FollowCategory, ...)
    username = models.CharField(max_length=100)
    user_id = models.BigIntegerField(null=True, blank=True)  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
    full_name = models.CharField(max_length=255, blank=True, default="")  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
    is_private = models.BooleanField(default=False)  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
    is_verified = models.BooleanField(default=False)  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
    profile_pic_url = models.URLField(blank=True, default="")  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
    added_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
```

#### 1.4 –î–æ–±–∞–≤–∏—Ç—å `last_target_id` –≤ `FollowTaskAccount`

```python
class FollowTaskAccount(models.Model):
    task = models.ForeignKey(FollowTask, ...)
    account = models.ForeignKey(TikTokAccount, ...)
    proxy = models.ForeignKey(TikTokProxy, ...)  # ‚Üê —É–∂–µ –¥–æ–±–∞–≤–∏–ª–∏ –≤—ã—à–µ
    status = models.CharField(...)
    follow_count = models.IntegerField(default=0)
    last_target_id = models.IntegerField(null=True, blank=True)  # ‚Üê –î–û–ë–ê–í–ò–¢–¨
    log = models.TextField(...)
    started_at = models.DateTimeField(...)
    completed_at = models.DateTimeField(...)
```

---

### –≠—Ç–∞–ø 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π

#### 2.1 Bulk Login Task (üî¥ –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏:**

```python
# tiktok_uploader/models.py

class BulkLoginTask(models.Model):
    STATUS_CHOICES = [
        ('PENDING', 'Pending'),
        ('RUNNING', 'Running'),
        ('COMPLETED', 'Completed'),
        ('FAILED', 'Failed'),
        ('PARTIALLY_COMPLETED', 'Partially Completed'),
    ]
    
    name = models.CharField(max_length=120, default="Bulk Login")
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='PENDING')
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    log = models.TextField(blank=True, default="")
    
    def __str__(self):
        return f"Bulk Login {self.id} - {self.status}"
    
    def get_completed_count(self):
        return self.accounts.filter(status='COMPLETED').count()
    
    def get_total_count(self):
        return self.accounts.count()
    
    def get_completion_percentage(self):
        total = self.get_total_count()
        if total == 0:
            return 0
        return int(self.get_completed_count() / total * 100)


class BulkLoginAccount(models.Model):
    STATUS_CHOICES = [
        ('PENDING', 'Pending'),
        ('RUNNING', 'Running'),
        ('COMPLETED', 'Completed'),
        ('FAILED', 'Failed'),
        ('PHONE_VERIFICATION_REQUIRED', 'Phone Verification Required'),
        ('CAPTCHA_REQUIRED', 'Captcha Required'),
        ('SUSPENDED', 'Suspended'),
    ]
    
    bulk_task = models.ForeignKey(
        BulkLoginTask, 
        on_delete=models.CASCADE, 
        related_name='accounts'
    )
    account = models.ForeignKey(
        TikTokAccount, 
        on_delete=models.CASCADE, 
        related_name='bulk_logins'
    )
    proxy = models.ForeignKey(
        TikTokProxy, 
        on_delete=models.SET_NULL, 
        null=True, 
        blank=True, 
        related_name='bulk_login_used_in'
    )
    status = models.CharField(max_length=30, choices=STATUS_CHOICES, default='PENDING')
    log = models.TextField(blank=True, default="")
    started_at = models.DateTimeField(null=True, blank=True)
    completed_at = models.DateTimeField(null=True, blank=True)
    
    def __str__(self):
        return f"{self.account.username} in {self.bulk_task.name}"
```

**–°–æ–∑–¥–∞—Ç—å views:**
- `bulk_login_list` - —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
- `create_bulk_login` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `bulk_login_detail` - –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏
- `start_bulk_login` - –∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏
- `delete_bulk_login` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
- `get_bulk_login_logs` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–æ–≥–æ–≤

**–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω—ã:**
- `templates/tiktok_uploader/bulk_login/list.html`
- `templates/tiktok_uploader/bulk_login/create.html`
- `templates/tiktok_uploader/bulk_login/detail.html`

**–î–æ–±–∞–≤–∏—Ç—å URL:**
```python
# tiktok_uploader/urls.py

# Bulk Login
path('bulk-login/', views.bulk_login_list, name='bulk_login_list'),
path('bulk-login/create/', views.create_bulk_login, name='create_bulk_login'),
path('bulk-login/<int:task_id>/', views.bulk_login_detail, name='bulk_login_detail'),
path('bulk-login/<int:task_id>/start/', views.start_bulk_login, name='start_bulk_login'),
path('bulk-login/<int:task_id>/delete/', views.delete_bulk_login, name='delete_bulk_login'),
path('bulk-login/<int:task_id>/logs/', views.get_bulk_login_logs, name='bulk_login_logs'),
```

---

#### 2.2 Avatar Change Task (üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

TikTok —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–º–µ–Ω—É –∞–≤–∞—Ç–∞—Ä–æ–∫. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

```python
# tiktok_uploader/models.py

class AvatarChangeTask(models.Model):
    STRATEGY_CHOICES = [
        ('random_reuse', 'Random reuse when images < accounts'),
        ('one_to_one', 'One image per account (same order)'),
    ]
    STATUS_CHOICES = [
        ('PENDING', 'Pending'),
        ('RUNNING', 'Running'),
        ('COMPLETED', 'Completed'),
        ('FAILED', 'Failed'),
    ]
    
    name = models.CharField(max_length=120, default="Avatar Change")
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='PENDING')
    strategy = models.CharField(max_length=20, choices=STRATEGY_CHOICES, default='random_reuse')
    delay_min_sec = models.IntegerField(default=15)
    delay_max_sec = models.IntegerField(default=45)
    concurrency = models.IntegerField(default=1)
    log = models.TextField(blank=True, default="")
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    def __str__(self):
        return f"Avatar Task {self.id} - {self.status}"


class AvatarChangeTaskAccount(models.Model):
    STATUS_CHOICES = [
        ('PENDING', 'Pending'),
        ('RUNNING', 'Running'),
        ('COMPLETED', 'Completed'),
        ('FAILED', 'Failed'),
    ]
    
    task = models.ForeignKey(AvatarChangeTask, on_delete=models.CASCADE, related_name='accounts')
    account = models.ForeignKey(TikTokAccount, on_delete=models.CASCADE, related_name='avatar_tasks')
    proxy = models.ForeignKey(TikTokProxy, on_delete=models.SET_NULL, null=True, blank=True, related_name='avatar_used_in')
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='PENDING')
    log = models.TextField(blank=True, default="")
    started_at = models.DateTimeField(null=True, blank=True)
    completed_at = models.DateTimeField(null=True, blank=True)
    
    def __str__(self):
        return f"{self.account.username} in Avatar Task {self.task.id}"


class AvatarImage(models.Model):
    task = models.ForeignKey(AvatarChangeTask, on_delete=models.CASCADE, related_name='images')
    image = models.ImageField(upload_to='tiktok/avatars/')
    order = models.IntegerField(default=0)
    uploaded_at = models.DateTimeField(auto_now_add=True)
    
    class Meta:
        ordering = ['order', 'id']
    
    def __str__(self):
        return f"AvatarImage {self.id} for Task {self.task.id}"
```

---

#### 2.3 Bio Change Task (üü° –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

TikTok –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (bio, website). –î–æ–±–∞–≤–∏—Ç—å:

```python
# tiktok_uploader/models.py

class BioChangeTask(models.Model):
    STATUS_CHOICES = [
        ('PENDING', 'Pending'),
        ('RUNNING', 'Running'),
        ('COMPLETED', 'Completed'),
        ('FAILED', 'Failed'),
    ]
    
    name = models.CharField(max_length=120, default="Bio Change Task")
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='PENDING')
    bio_text = models.TextField(max_length=80, blank=True, help_text="New bio (max 80 chars)")
    website_url = models.URLField(max_length=500, blank=True, help_text="Website link")
    delay_min_sec = models.IntegerField(default=15)
    delay_max_sec = models.IntegerField(default=45)
    concurrency = models.IntegerField(default=1)
    log = models.TextField(blank=True, default="")
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    
    def __str__(self):
        return f"Bio Task {self.id} - {self.status}"


class BioChangeTaskAccount(models.Model):
    STATUS_CHOICES = [
        ('PENDING', 'Pending'),
        ('RUNNING', 'Running'),
        ('COMPLETED', 'Completed'),
        ('FAILED', 'Failed'),
    ]
    
    task = models.ForeignKey(BioChangeTask, on_delete=models.CASCADE, related_name='accounts')
    account = models.ForeignKey(TikTokAccount, on_delete=models.CASCADE, related_name='bio_tasks')
    proxy = models.ForeignKey(TikTokProxy, on_delete=models.SET_NULL, null=True, blank=True, related_name='bio_used_in')
    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='PENDING')
    log = models.TextField(blank=True, default="")
    started_at = models.DateTimeField(null=True, blank=True)
    completed_at = models.DateTimeField(null=True, blank=True)
    
    def __str__(self):
        return f"{self.account.username} in Bio Task {self.task.id}"
```

---

#### 2.4 Photo Upload (üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

TikTok —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ/—Å–ª–∞–π–¥—à–æ—É. –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ.

---

#### 2.5 Hashtag Analytics (üü¢ –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ö–µ—à—Ç–µ–≥–æ–≤. –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–∞, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞.

```python
class HashtagAnalytics(models.Model):
    hashtag = models.CharField(max_length=150, db_index=True)
    total_videos = models.IntegerField(default=0)
    total_views = models.BigIntegerField(default=0)
    total_likes = models.BigIntegerField(default=0)
    total_comments = models.BigIntegerField(default=0)
    total_shares = models.BigIntegerField(default=0)
    average_views = models.FloatField(default=0.0)
    engagement_rate = models.FloatField(default=0.0)
    created_at = models.DateTimeField(auto_now_add=True)
    
    class Meta:
        indexes = [
            models.Index(fields=['hashtag', 'created_at']),
        ]
```

---

## üìù –ú–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –º–æ–¥–µ–ª–∏:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py makemigrations tiktok_uploader

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate tiktok_uploader
```

---

## üé® –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ forms.py

–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—ã –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å Instagram:

```python
# tiktok_uploader/forms.py

class BulkLoginTaskForm(forms.ModelForm):
    class Meta:
        model = BulkLoginTask
        fields = ['name']

class AvatarChangeTaskForm(forms.ModelForm):
    class Meta:
        model = AvatarChangeTask
        fields = ['name', 'strategy', 'delay_min_sec', 'delay_max_sec', 'concurrency']

class BioChangeTaskForm(forms.ModelForm):
    class Meta:
        model = BioChangeTask
        fields = ['name', 'bio_text', 'website_url', 'delay_min_sec', 'delay_max_sec', 'concurrency']
```

---

## üîó –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Admin

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –≤ admin.py:

```python
# tiktok_uploader/admin.py

from django.contrib import admin
from .models import (
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
    BulkLoginTask, BulkLoginAccount,
    AvatarChangeTask, AvatarChangeTaskAccount, AvatarImage,
    BioChangeTask, BioChangeTaskAccount,
)

admin.site.register(BulkLoginTask)
admin.site.register(BulkLoginAccount)
admin.site.register(AvatarChangeTask)
admin.site.register(AvatarChangeTaskAccount)
admin.site.register(AvatarImage)
admin.site.register(BioChangeTask)
admin.site.register(BioChangeTaskAccount)
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–°–µ–π—á–∞—Å)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `proxy` –≤ `BulkUploadAccount`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `proxy` –≤ `WarmupTaskAccount`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `proxy` –≤ `FollowTaskAccount`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `proxy` –≤ `CookieRobotTaskAccount`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `tfa_secret` –≤ `TikTokAccount`
- [ ] –£–ª—É—á—à–∏—Ç—å –º–æ–¥–µ–ª—å `FollowTarget` (–¥–æ–±–∞–≤–∏—Ç—å user_id, full_name, is_private, is_verified, profile_pic_url)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `last_target_id` –≤ `FollowTaskAccount`
- [ ] –°–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

### –§–∞–∑–∞ 2: Bulk Login (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ `BulkLoginTask` –∏ `BulkLoginAccount`
- [ ] –°–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—ã
- [ ] –°–æ–∑–¥–∞—Ç—å views
- [ ] –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω—ã
- [ ] –î–æ–±–∞–≤–∏—Ç—å URL
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ—Ç–æ–º
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 3: Avatar & Bio (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è Avatar Change
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è Bio Change
- [ ] –°–æ–∑–¥–∞—Ç—å views –∏ —à–∞–±–ª–æ–Ω—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ—Ç–æ–º
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 4: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤

| –ó–∞–¥–∞—á–∞ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –í—Ä–µ–º—è |
|--------|-----------|-----------|-------|
| –î–æ–±–∞–≤–∏—Ç—å proxy –≤ task accounts | –õ–µ–≥–∫–æ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | 30 –º–∏–Ω |
| –î–æ–±–∞–≤–∏—Ç—å tfa_secret | –õ–µ–≥–∫–æ | üî¥ –í—ã—Å–æ–∫–∏–π | 15 –º–∏–Ω |
| –£–ª—É—á—à–∏—Ç—å FollowTarget | –õ–µ–≥–∫–æ | üü° –°—Ä–µ–¥–Ω–∏–π | 20 –º–∏–Ω |
| Bulk Login –º–æ–¥–µ–ª–∏ | –°—Ä–µ–¥–Ω–µ | üî¥ –í—ã—Å–æ–∫–∏–π | 2 —á–∞—Å–∞ |
| Bulk Login views | –°—Ä–µ–¥–Ω–µ | üî¥ –í—ã—Å–æ–∫–∏–π | 3 —á–∞—Å–∞ |
| Bulk Login —à–∞–±–ª–æ–Ω—ã | –õ–µ–≥–∫–æ | üî¥ –í—ã—Å–æ–∫–∏–π | 1 —á–∞—Å |
| Avatar Change –ø–æ–ª–Ω—ã–π | –°–ª–æ–∂–Ω–æ | üü° –°—Ä–µ–¥–Ω–∏–π | 6 —á–∞—Å–æ–≤ |
| Bio Change –ø–æ–ª–Ω—ã–π | –°—Ä–µ–¥–Ω–µ | üü° –°—Ä–µ–¥–Ω–∏–π | 4 —á–∞—Å–∞ |
| Hashtag Analytics | –°–ª–æ–∂–Ω–æ | üü¢ –ù–∏–∑–∫–∏–π | 8 —á–∞—Å–æ–≤ |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - —á—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

1. **–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –ë–î:**
   ```bash
   cp db.sqlite3 db.sqlite3.backup
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å models.py** (—Å–º. –≠—Ç–∞–ø 1 –≤—ã—à–µ)

3. **–°–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:**
   ```bash
   python manage.py makemigrations tiktok_uploader
   python manage.py migrate tiktok_uploader
   ```

4. **–û–±–Ω–æ–≤–∏—Ç—å views –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è proxy** (–≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö task views)

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏**

6. **–ü–µ—Ä–µ–π—Ç–∏ –∫ –§–∞–∑–µ 2** (Bulk Login)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- `uploader/models.py` - —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ Instagram
- `uploader/views.py` - —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ views Instagram
- `uploader/forms.py` - —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã Instagram

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ö–æ–ø–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É Instagram, –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø–æ–¥ TikTok API

---

**–°—Ç–∞—Ç—É—Å:** üìã –ì–æ—Ç–æ–≤ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 2025-10-04



