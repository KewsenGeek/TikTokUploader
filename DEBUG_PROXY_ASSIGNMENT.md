# üîç –û—Ç–ª–∞–¥–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è proxy –∏ current_proxy
**–ë—ã–ª–æ:**
```python
if account.proxy:
    account.current_proxy = account.proxy
```

**–°—Ç–∞–ª–æ:**
```python
account.current_proxy = account.proxy  # –í—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º!
```

–¢–µ–ø–µ—Ä—å `current_proxy` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è `proxy` (–≤–∫–ª—é—á–∞—è `None`).

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏
```python
print(f"[EDIT ACCOUNT DEBUG] Selected proxy ID from form: {selected_proxy_id}")
print(f"[EDIT ACCOUNT DEBUG] After form save - proxy: {account.proxy}, current_proxy: {account.current_proxy}")
print(f"[EDIT ACCOUNT DEBUG] After account.save() - proxy: {account.proxy}, current_proxy: {account.current_proxy}")
```

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º
–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω:
```bash
.venv\Scripts\python.exe manage.py runserver
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
```
http://localhost:8000/tiktok/accounts/1/edit/
```

### –®–∞–≥ 3: –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ
1. –í —Å–µ–∫—Ü–∏–∏ "Proxy Settings" –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏–∑ —Å–ø–∏—Å–∫–∞
2. –ù–∞–∂–º–∏—Ç–µ "Save Changes"
3. **–°–†–ê–ó–£ –°–ú–û–¢–†–ò–¢–ï –í –ö–û–ù–°–û–õ–¨ –°–ï–†–í–ï–†–ê!**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏
–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
```
[EDIT ACCOUNT DEBUG] Selected proxy ID from form: <TikTokProxy: 192.168.1.1:8080>
[EDIT ACCOUNT DEBUG] After form save - proxy: 192.168.1.1:8080, current_proxy: 192.168.1.1:8080
[EDIT ACCOUNT DEBUG] After account.save() - proxy: 192.168.1.1:8080, current_proxy: 192.168.1.1:8080
```

---

## üìã –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Selected proxy ID = None
```
[EDIT ACCOUNT DEBUG] Selected proxy ID from form: None
```

**–ü—Ä–∏—á–∏–Ω–∞:** –§–æ—Ä–º–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ —Ñ–æ—Ä–º–µ –µ—Å—Ç—å –ø–æ–ª–µ `<select name="proxy">`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: After form save - proxy: None
```
[EDIT ACCOUNT DEBUG] After form save - proxy: None, current_proxy: None
```

**–ü—Ä–∏—á–∏–Ω–∞:** form.save() –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–∫—Å–∏  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ 'proxy' –µ—Å—Ç—å –≤ Meta.fields —Ñ–æ—Ä–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü—Ä–æ–∫—Å–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ account.save()
```
[EDIT ACCOUNT DEBUG] After form save - proxy: 192.168.1.1:8080, current_proxy: 192.168.1.1:8080
[EDIT ACCOUNT DEBUG] After account.save() - proxy: None, current_proxy: None
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥–µ–ª—å TikTokAccount –∏–º–µ–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–µ—Ç–æ–¥ save()  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç–æ–¥ save() –≤ –º–æ–¥–µ–ª–∏

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ shell

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø—Ä–æ–∫—Å–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è:
```bash
.venv\Scripts\python.exe manage.py shell
```

```python
from tiktok_uploader.models import TikTokAccount

acc = TikTokAccount.objects.get(id=1)
print(f"Username: {acc.username}")
print(f"Proxy: {acc.proxy}")
print(f"Current Proxy: {acc.current_proxy}")
```

---

## üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –ï—Å–ª–∏ –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —á—Ç–æ –ø—Ä–æ–∫—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### –ï—Å–ª–∏ –ø—Ä–æ–∫—Å–∏ –≤—Å–µ –µ—â–µ None:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ –ª–æ–≥–∏
3. –Ø —É–≤–∏–∂—É –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–æ–∫—Å–∏

---

## üéØ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å!

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/tiktok/accounts/1/edit/
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–∫—Å–∏
4. –ù–∞–∂–º–∏—Ç–µ "Save Changes"
5. **–°–ú–û–¢–†–ò–¢–ï –í –ö–û–ù–°–û–õ–¨ –°–ï–†–í–ï–†–ê!**
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ —á—Ç–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è

---

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `tiktok_uploader/views.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏
- `tiktok_uploader/forms.py` - –¥–æ–±–∞–≤–ª–µ–Ω `__init__()` –¥–ª—è queryset –ø—Ä–æ–∫—Å–∏


