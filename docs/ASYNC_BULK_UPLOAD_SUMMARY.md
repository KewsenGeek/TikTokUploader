# üìã –†–µ–∑—é–º–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π Async Bulk Upload

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 1. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤
**–ß—Ç–æ –±—ã–ª–æ**: –ü–æ—Å–ª–µ —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–µ–æ `file_path` –≤ `VideoData` –Ω–µ –æ–±–Ω–æ–≤–ª—è–ª—Å—è, –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—É—á–∞–ª –ø—É—Ç—å –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É —Ñ–∞–π–ª—É –≤–º–µ—Å—Ç–æ —É–Ω–∏–∫–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ.

**‚úÖ –†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `video.file_path = unique_video_path` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É–Ω–∏–∫–∞–ª–∏–∑–∞—Ü–∏–∏.

### 2. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º  
**–ß—Ç–æ –±—ã–ª–æ**: –õ–æ–≥–∏ async bulk upload –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤ Django cache.

**‚úÖ –†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ Django cache —Å –∫–ª—é—á–∞–º–∏ `task_logs_{task_id}` –∏ `task_logs_{task_id}_account_{account_id}`.

## üìç –ì–¥–µ –∏—Å–∫–∞—Ç—å –ª–æ–≥–∏

### Async Bulk Upload:
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: `/bulk-upload/{task_id}/logs/`
- **Django Cache**: `task_logs_{task_id}`, `task_logs_{task_id}_account_{account_id}`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `BulkUploadTask.log`, `BulkUploadAccount.log`
- **–ö–æ–Ω—Å–æ–ª—å**: stdout —Å —Ü–≤–µ—Ç–æ–≤–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–æ–π

### –ë—Ä–∞—É–∑–µ—Ä:
- **Django Cache**: —Ç–µ –∂–µ –∫–ª—é—á–∏
- **–§–∞–π–ª—ã**: `django.log`, `bot/log.txt`

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:
```bash
python test_async_bulk_upload.py <task_id> check_logs    # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
python test_async_bulk_upload.py <task_id> check_status # –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å  
python test_async_bulk_upload.py <task_id> run          # –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ cache:
```python
from django.core.cache import cache
cache.get('task_logs_{task_id}')  # –ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ –∑–∞–¥–∞—á–∏
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –§–∞–π–ª—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–Ω–∏–∫–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä
- ‚úÖ –õ–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ 